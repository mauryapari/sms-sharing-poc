<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <a href="sms:+911234567890" class="sms-link"> CALL US</a>

    <button></button>
    <script>
        console.log('ran')
        // window.navigator.registerProtocolHandler(
        //     "sms",
        //     "http://127.0.0.1:5500/index.html?sms=%s",
        //     "Sms Handler"
        // )

        let element = document.getElementsByClassName('sms-link');
        console.log(element);
        for(let i=0; i<element.length; i++) {
            element[i].addEventListener('click', function(event) {
                console.log(this.href);
                if ((!navigator.canShare || !navigator.canShare({url: this.href})) && !navigator.contacts && (!(/iPad|iPhone|iPod/.test(navigator.userAgent)))) {
                    alert('Device does not have message sending capabilities!');
                }
            });
        }
    // const props = ["name", "email", "tel", "address", "icon"];
    // const opts = { multiple: true };


    // const handleResults = (contacts) => {
    //     console.log('data is', contacts);
    // } 

    // async function getContacts() {
    //     try {
    //     const contacts = await navigator.contacts.select(props, opts);
    //         handleResults(contacts);
    //         console.log('==>',contacts)
    //     } catch (ex) {
    //     // Handle any errors here.
    //     }
    // }

    // getContacts()
    </script>
</body>
</html>